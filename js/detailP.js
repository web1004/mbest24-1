//ìƒì„¸í˜ì´ì§€ì´ë²¤íŠ¸-í¼ë¸”ë¦¬ì‹±
(function(){
  const publishList =[
    //ì›í˜ì´ì§€
    { githref:'https://github.com/Erin2021/onepage',
      preview:'img/preview1.PNG',
      title:'Ben & Jerryâ€™s',
      date:'2024.05',
      who:'ê°œì¸ 100%',
      link:'https://erin2021.github.io/onepage/',
      description: 'ë²¤ì—”ì œë¦¬ìŠ¤ëŠ” ë¯¸êµ­ì— ìˆëŠ” ì•„ì´ìŠ¤í¬ë¦¼ ì œì¡° íšŒì‚¬ì…ë‹ˆë‹¤. ì‚¬íšŒ ì¹œí™”ì ì¸ ê¸°ì—… ì´ë¯¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ë¶€ë“œëŸ¬ìš´ ìƒ‰ê³¼ ë„í˜•ì„ ì‚¬ìš©í•´ì„œ ì œì‘í–ˆìŠµë‹ˆë‹¤.',
      detailTool:{
        toolImg:['img/skill-html.svg','img/skill-css.svg'],
        toolDes:['ì›¹í‘œì¤€ì— ì•Œë§ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.','ë‹¤ì–‘í•œ ì„ íƒìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íƒœê·¸ì˜ data ìš”ì†Œë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.']
      },
      detailFunction:['ìŠ¤í¬ë¡¤ë°”ì™€ ë§ˆìš°ìŠ¤ì˜ ë””ìì¸ì„ ë³€í˜•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','animation-timelineê³¼ animation-durationì„ ì‚¬ìš©í•˜ì—¬ JSì—†ì´ ìŠ¤í¬ë¡¤ì´ë²¤íŠ¸ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','ê·¸ë¦¬ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í™”ë©´ êµ¬í˜„ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
      detailStyle:{
        color:['#FFF9E3','#45392E'],
        typo:['ì™„ì£¼ëŒ€ë‘”ì‚°ì²´','KCCí•œë¹›ì²´'],
        typoFamily:['TTWanjudaedunsancheB','KCC-Hanbit'],
      },
      shortdes:{
        photo:['preview1.PNG','p1-1.PNG','p1-2.PNG','p1-3.PNG','p1-4.PNG','p1-5.PNG'],
        photoDes:['ì‹ ìƒì œí’ˆí™ë³´ ë©”ì¸ë¹„ì£¼ì–¼','ê¸°ì—…ì´ë¯¸ì§€ ì†Œê°œ','íšŒì‚¬ì´ë… ì†Œê°œ','ì œí’ˆì¢…ë¥˜ ì†Œê°œ','ë‹¨ì¢…ì œí’ˆ ì†Œê°œ','ê¸°ì—… ì†Œì‹']
      },
      nextProject:{
        nextImg:"img/preview2.PNG",
        nextTitle:"Carribian Bay",
      }

    },
    //ìƒì„¸í˜ì´ì§€
    { githref:'https://github.com/Erin2021/waterpark',
      preview:'img/preview2.PNG',
      title:'Carribian Bay',
      date:'2024.05',
      who:'ê°œì¸ 100%',
      link:'https://erin2021.github.io/waterpark/',
      description: 'ìºë¦¬ë¹„ì•ˆë² ì´ëŠ” ëŒ€í•œë¯¼êµ­ì˜ ìœ ëª… ì›Œí„°íŒŒí¬ì…ë‹ˆë‹¤. ì›¹í˜ì´ì§€ê°€ ì¡´ì¬í•˜ì§€ ì•Šê¸°ì—, ì›Œí„°íŒŒí¬ì— ê´€í•œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” 10í˜ì´ì§€ ë¶„ëŸ‰ì˜ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì œì‘í•´ë³´ì•˜ìŠµë‹ˆë‹¤.',
      detailTool:{
        toolImg:['img/skill-html.svg','img/skill-css.svg','img/skill-jquery.svg'],
        toolDes:['ë©”íƒ€ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚˜ì¤‘ì— ì‰½ê²Œ ì•Œì•„ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬ì¡°í™”í–ˆìŠµë‹ˆë‹¤.','ì •ë³´ì˜ ì„±ê²©ì„ ì´í•´í•˜ê³  ê·¸ì— ë§ëŠ” êµ¬ì„±ì„ ë””ìì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','scroll eventë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ë‰´ë‚˜ ì½˜í…ì¸ ì— ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.']
      },
      detailFunction:['ì¹´ìš´íŠ¸ë‹¤ìš´ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','ì¸ì ‘ ì„ íƒìë¥¼ í™œìš©í•´ ì•„ì½”ë””ì–¸ ë©”ë‰´ë¥¼ ì œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','depth1 í¬ê¸°ì˜ ë©”ë‰´ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
      detailStyle:{
        color:['#002646','#FF6A07','#277BC0'],
        typo:['ì†ì´ˆë°”ë‹¤ë‹ìŒì²´','í”„ë¦¬í…ë‹¤ë“œ'],
        typoFamily:['SokchoBadaDotum','Pretendard-Regular'],
      },
      shortdes:{
        photo:['p2-1.png','p2-2.png','p2-3.png','p2-4.png','p2-5.png','p2-6.png'],
        photoDes:['ë©”ì¸ - ì‚¬ì´íŠ¸ë§µ ìœ ì‚¬ ê¸°ëŠ¥','ìºë¹„ìŠ¤í† ë¦¬ - ì‹œì„¤ ì†Œê°œ','ì˜¤ëŠ˜ì˜ íŒŒí¬ - ì‹œì„¤í˜„í™© ì •ë³´ë””ìì¸','ì´ìš©ê°€ì´ë“œ','ì´ë‹¬ì˜ í• ì¸','ìì£¼ ë¬»ëŠ” ì§ˆë¬¸']
      },
      nextProject:{
        nextImg:"img/preview3.PNG",
        nextTitle:"Open Tutorials",
      }
    },
    //ë°˜ì‘í˜•í˜ì´ì§€
    { githref:'https://github.com/Erin2021/Open-Tutorials',
      preview:'img/preview3.PNG',
      title:'Open Tutorials',
      date:'2024.06',
      who:'ê°œì¸ 100%',
      link:'https://erin2021.github.io/Open-Tutorials/',
      description: 'ìƒí™œì½”ë”©ì€ ë¹„ì˜ë¦¬ í”„ë¡œê·¸ë˜ë° êµìœ¡ ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. êµìœ¡ ì°¸ì—¬ë¥¼ ì¦ì§„ì‹œí‚¤ê¸° ìœ„í•´ ëœë”© í˜ì´ì§€ë¥¼ ì œì‘í•˜ê³ , ê¸°ì¡´ì˜ ë¬´ì±„ìƒ‰ ì´ë¯¸ì§€ë¥¼ ìƒ‰ê° ìˆê²Œ ë³€í™˜í–ˆìŠµë‹ˆë‹¤.',
      detailTool:{
        toolImg:['img/skill-html.svg','img/skill-css.svg','img/skill-jquery.svg','img/skill-js.svg'],
        toolDes:['ë°˜ì‘í˜•ì„ ê³ ë ¤í•œ êµ¬ì¡°ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','media queryë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ì‘í˜•ì— ì•Œë§ëŠ” ë””ìì¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>ê°€ìƒ í´ë¼ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë””ìì¸ ì‹œìŠ¤í…œì„ ì²´ê³„ì ìœ¼ë¡œ ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','ë©”ë‰´ ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„í•˜ê³  ìŠ¤í¬ë¡¤ ìˆ˜ì¹˜ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.','ë¼ì´ë¸ŒëŸ¬ë¦¬ GSAPë¥¼ ì‚¬ìš©í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ ë“±ì¥ íš¨ê³¼ë¥¼ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.']
      },
      detailFunction:['ìŠ¤í¬ë¡¤ì‹œ ì• ë‹ˆë©”ì´ì…˜ì´ ì‘ë™ë©ë‹ˆë‹¤.','scroll-jackingì„ í•©ë‹ˆë‹¤.','ëª¨ë‹ˆí„°-íƒ€ë¸”ë¦¿-ëª¨ë°”ì¼ë§ˆë‹¤ í™”ë©´ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤.'],
      detailStyle:{
        color:['#1E0036','#4A0AD2','#FFF59D'],
        typo:['ì›¨ì´ë¸ŒíŒŒë„ì²´','ë‚˜ëˆ”ìŠ¤í€˜ì–´AC'],
        typoFamily:['WavvePADO-Regular','NanumSquareAc'],
      },
      shortdes:{
        photo:['p3-1.PNG','p3-2.PNG','p3-3.png','p3-4.PNG','p3-5.PNG','p3-6.PNG'],
        photoDes:['ì›¹í˜ì´ì§€ ì•ˆë‚´','êµìœ¡ì˜ ë³€í™” ì„¤ëª…','í•µì‹¬ í”„ë¡œê·¸ë¨ ì†Œê°œ1','í•µì‹¬ í”„ë¡œê·¸ë¨ ì†Œê°œ2','í•µì‹¬ í”„ë¡œê·¸ë¨ ì†Œê°œ3','ì°¸ì—¬ ìœ ë„ í™”ë©´']
      },
      nextProject:{
        nextImg:"img/preview4.PNG",
        nextTitle:"SNUH",
      }
    },
    //ì ì‘í˜•í˜ì´ì§€
    { githref:'https://github.com/Erin2021/adaptive-page',
      preview:'img/preview4.PNG',
      title:'SNUH',
      date:'2024.06',
      who:'ê°œì¸ 100%',
      link:'https://erin2021.github.io/adaptive-page/',
      description: 'ê¸°ì¡´ì˜ ì„œìš¸ëŒ€í•™êµë³‘ì› ì›¹í˜ì´ì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì ì‘í˜• ëª¨ë°”ì¼ í˜ì´ì§€ë¥¼ ì‘ì—…í–ˆìŠµë‹ˆë‹¤. ë©”ì¸ í™”ë©´ì˜ ì½˜í…ì¸  ì¤‘ ì¤‘ìš”ë„ë¥¼ ì„¤ì •í•œ í›„, ì§„ë£Œ ê´€ë ¨ ìš”ì†Œë¥¼ ì¬ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤.',
      detailTool:{
        toolImg:['img/skill-html.svg','img/skill-css.svg','img/skill-jquery.svg','img/skill-js.svg'],
        toolDes:['ê¸°ì¡´ í˜ì´ì§€ êµ¬ì¡°ë¥¼ ë¶„í•´í•œ ë‹¤ìŒ ëª¨ë°”ì¼ì— ì í•©í•œ êµ¬ì¡°ë¥¼ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.','text-overflowì™€ flexë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ê°™ì€ ë¹„ìœ¨ë¡œ í™”ë©´ì´ ë³´ì¼ ìˆ˜ ìˆë„ë¡ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.','classListë¥¼ í†µí•´ í† ê¸€ ì• ë‹ˆë©”ì´ì…˜ì„ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.','ê¹Šì´2 í¬ê¸°ì˜ ë©”ë‰´ì™€ ì–¸ì–´ ì„ íƒì°½ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.']
      },
      detailFunction:['ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì—ë„ ë¹„ìœ¨ì´ ë³€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.','ë°©ëŒ€í•œ ì–‘ì˜ ë©”ë‰´ê°€ ë³´ê¸° ì‰½ê²Œ ì •ëˆë˜ì–´ ìˆìŠµë‹ˆë‹¤.'],
      detailStyle:{
        color:['#2763BA','#333333'],
        typo:['ë³¸ê³ ë”•'],
        typoFamily:['Noto Sans KR'],
      },
      shortdes:{
        photo:['p4-1.PNG','p4-2.PNG','p4-3.PNG','p4-4.PNG','p4-5.PNG'],
        photoDes:['ë©”ì¸ í™”ë©´','ë©”ë‰´ ë° ì–¸ì–´ ì„¤ì •','ì§„ë£Œ ê²€ìƒ‰ ë° ë³‘ì› ì†Œì‹','ê±´ê°• ì •ë³´','ìœ„ì¹˜ ì•ˆë‚´']
      },
      nextProject:{
        nextImg:"img/preview1.PNG",
        nextTitle:"Ben &Jerryâ€™s",
      }
    },
  ];


  //ì´ë¯¸ì§€ë¥¼ ëˆ„ë¥¼ê²½ìš° html ìŠ¤í¬ë¡¤ì„ ì£½ì¸ë‹¤
  const publishBtn = document.querySelectorAll('.pub-inner>li');
  const publishModal = document.querySelector('#modalP');
  let Bigscroll = true;

  publishBtn.forEach((value,count)=>{
    value.addEventListener('click',()=>{
      let progressCount=count;//ì—´ë¦°ìˆœì„œë“¤ì–´ê°
      Bigscroll=false;
      if(!Bigscroll){
        //html ìŠ¤í¬ë¡¤ ê°€ë¦¬ê¸°
        document.getElementsByTagName('html')[0].style.overflowY='hidden'
        
        //modalë„ìš°ê¸°
        const modalTop= document.getElementsByTagName('html')[0].scrollTop;
        publishModal.style.top = `${modalTop}px`
        publishModal.style.display='flex';

        //ë°ì´í„° ì‹œê°í™”
        PStructure(count);

        //ë‹¤ìŒ í”„ë¡œì íŠ¸ ëˆŒë €ì„ë•Œ ë‹¤ìŒ ë°ì´í„° ë¶ˆëŸ¬ì™€ì•¼í•´
        //ì´ë²¤íŠ¸ ì¤‘ì²©ì œê±°í•„ìš”
        const MNext=publishModal.querySelector('.T-next .T-next-inner');
        if(MNext.clickHandler){//ì´ë¯¸ì‹¤í–‰ëœ ì´ë²¤íŠ¸ê°€ ìˆë‹¤ë©´ ì´ˆê¸°í™”
          MNext.removeEventListener('click', MNext.clickHandler);
        }
        MNext.clickHandler = () =>{
          progressCount+=1;
          if(progressCount>=publishList.length){progressCount=0;}
          PStructure(progressCount);
        }
        MNext.addEventListener('click', MNext.clickHandler);
      }
    })
    
  })

  function PStructure(count){
    //modalìœ„ì¹˜ ì´ˆê¸°í™”
    publishModal.scrollTop=0;

    //âœ¨âœ¨ëª¨ë‹¬ ë‚´ìš© ì• ë‹ˆë©”ì´ì…˜ ë“±ì¥
    const Mcontent=publishModal.querySelector('.modal-inner');
    gsap.from(Mcontent,{opacity:0, y:50,duration:1});

    //ğŸ”¥ğŸ”¥ë°ì´í„° ì‹œê°í™”

    //ë‹«ê¸°ë²„íŠ¼
    //modalë‹«ê¸°-ë²„íŠ¼ ëˆ„ë¥´ë©´ ë‹¤ì‹œ ì›ë˜ëŒ€ë¡œ
    const publishClosBtn = publishModal.querySelectorAll('.m-btn li');
    //ë‹«ê¸°
    publishClosBtn[0].addEventListener('click',()=>{
      publishModal.style.display='none';
      Bigscroll = true;
      document.getElementsByTagName('html')[0].style.overflowY='scroll'
    });
    //ê¹ƒí—ˆë¸Œì´ë™
    if(publishClosBtn[1].clickHandler){
      publishClosBtn[1].removeEventListener('click',publishClosBtn[1].clickHandler)
    }
    publishClosBtn[1].clickHandler=()=>{
      window.open(publishList[count].githref);
    }
    publishClosBtn[1].addEventListener('click',publishClosBtn[1].clickHandler)

    //í”„ë¡œì íŠ¸
    if(publishClosBtn[2].clickHandler){
      publishClosBtn[2].removeEventListener('click',publishClosBtn[2].clickHandler)
    }
    publishClosBtn[2].clickHandler=()=>{
      window.open(publishList[count].link);
    }
    publishClosBtn[2].addEventListener('click',publishClosBtn[2].clickHandler)

    //í”„ë¦¬ë·°
    const MThumbnail = publishModal.querySelector('.m-thumbnail img');
    MThumbnail.src=publishList[count].preview;

    //ì œëª©
    const Mtitle = publishModal.querySelector('.M-title');
    Mtitle.innerText=publishList[count].title;

    //ê°œìš”
    const Mdescription = publishModal.querySelector('.T-description');
    Mdescription.querySelector('ul>li:nth-of-type(1)').innerHTML=`<strong>ì œì‘ë…„ë„</strong> ${publishList[count].date}`

    Mdescription.querySelector('ul>li:nth-of-type(2)').innerHTML=`<strong>ê¸°ì—¬ë„</strong> ${publishList[count].who}`

    Mdescription.querySelector('ul>li:nth-of-type(3)').innerHTML=`<strong>ì™¸ë¶€ë§í¬</strong><a href=${publishList[count].link} target="_blank"> ë°”ë¡œê°€ê¸° <i class="fa-solid fa-arrow-up-right-from-square"></i></a>`

    Mdescription.querySelector('p').innerText=publishList[count].description;

    //ë””í…Œì¼-ì‚¬ìš©íˆ´
    const MdetailTool = publishModal.querySelector('.T-detail-tool');
    const MTool= publishList[count].detailTool.toolImg;
    const MToolDes = publishList[count].detailTool.toolDes;
    MdetailTool.innerHTML='';//ì‚¬ìš©íˆ´liì´ˆê¸°í™”
    
    for(let i=0;i<MTool.length;i++){
      const listTool =document.createElement("li");
      listTool.innerHTML=`<img src=${MTool[i]} alt=${MTool[i]}>
            <p>${MToolDes[i]}</p>`;
      MdetailTool.appendChild(listTool);
    }

    //ë””í…Œì¼-ì£¼ìš”ê¸°ëŠ¥
    const MdetailFunction = publishModal.querySelector('.T-detail-function');
    const MFunction =publishList[count].detailFunction;
    MdetailFunction.innerHTML='';//ì£¼ìš”ê¸°ëŠ¥liì´ˆê¸°í™”
    for(let i =0;i<MFunction.length;i++){
      const listFunction = document.createElement("li");
      listFunction.innerText=MFunction[i];
      MdetailFunction.appendChild(listFunction);
    }
    

    //ë””í…Œì¼-ìŠ¤íƒ€ì¼
    //a.color
    const MdetailColor =publishModal.querySelector('.T-color')
    const MColor= publishList[count].detailStyle.color;
    MdetailColor.innerHTML='';

    for(let i =0;i<MColor.length;i++){
      const listColor = document.createElement("li");
      listColor.style.backgroundColor=MColor[i];
      listColor.innerHTML=`<p>${MColor[i]}</p>`;
      MdetailColor.appendChild(listColor);
    }

    //b.interface
    const MdetailTypo = publishModal.querySelector('.T-typo');
    const MTypo = publishList[count].detailStyle.typo;
    const MTypoFamily = publishList[count].detailStyle.typoFamily;
    MdetailTypo.innerHTML='';

    for(let i=0;i<MTypo.length;i++){
      const listTypo= document.createElement("li");
      listTypo.innerText =MTypo[i];
      //í°íŠ¸ì ìš©
      listTypo.style.fontFamily= `${MTypoFamily[i]},sans-serif`;
      MdetailTypo.appendChild(listTypo);
    }

    //í¬í† 
    const MPhoto = publishModal.querySelector('.T-photo');
    const MPhotoImg=publishList[count].shortdes.photo;
    const MPhotoDes=publishList[count].shortdes.photoDes;
    MPhoto.innerHTML='';

    for(let i=0;i< MPhotoImg.length;i++){
      const listPhoto =document.createElement("li");
      listPhoto.innerHTML = `<div><img src= img/${MPhotoImg[i]} alt=${MPhotoDes[i]}></div><p>${MPhotoDes[i]}</p>`;
      MPhoto.appendChild(listPhoto);
    }

    //ë‹¤ìŒí”„ë¡œì íŠ¸
    const MNextImg=publishModal.querySelector('.T-next img');
    const MNextTitle = publishModal.querySelector('.T-next .T-next-des h5');
    MNextImg.src= publishList[count].nextProject.nextImg;
    MNextTitle.innerText=publishList[count].nextProject.nextTitle;
  }

  //modalì¼ì • ìŠ¤í¬ë¡¤ì‹œ, ë‹«ê¸° ë²„íŠ¼ ë³€í™”
  const closeM=publishModal.querySelector('nav');
  publishModal.addEventListener('scroll',()=>{
    if(publishModal.scrollTop>200){
      closeM.classList.add('active')
    }else{
      closeM.classList.remove('active')
    }
  })
})()